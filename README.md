# VLSI-Floorplanning
VLSI Physical Design: Floor Planning, Pin Assignment, and Power/Ground Routing

In VLSI physical design, floor planning is the second step after partitioning and determines the shape, relative locations, and pin positions of blocks to optimize the chip layout. Floor planning handles both hard blocks, which have fixed area and dimensions (e.g., PLLs, ADCs, or memory IPs), and soft blocks, which have fixed area but flexible aspect ratios. Its objectives include efficient block placement, assignment of pin locations to minimize interconnect distance, reduction of total wirelength to minimize propagation delay and power, and optimization of the global bounding box, the minimum axis-aligned rectangle enclosing all blocks. The combined objective function can be expressed as Objective = α * Area + (1 - α) * Wirelength, 0 ≤ α ≤ 1, allowing prioritization between area and wirelength. Floor plans can be represented using slicing trees for recursive horizontal/vertical division, constraint graphs (HCG for horizontal constraints, VCG for vertical), or sequence pairs, which encode relative block positions and allow computation of x and y coordinates using the Longest Common Subsequence (LCS) algorithm. The dimensions of the global bounding box are then determined as Width = max(X_i + W_i), Height = max(Y_i + H_i). Each block’s feasible width-height combinations are defined by its shape function, where Area = w × h. Vertical composition sums heights and takes the maximum width, W_floor = max(W_i), H_floor = sum(H_i), while horizontal composition sums widths and takes the maximum height, W_floor = sum(W_i), H_floor = max(H_i). The resulting floor plan area is A_floor = W_floor × H_floor. Common floor planning algorithms include Linear Ordering, which generates an initial block sequence to minimize wirelength using the gain function Gain = terminating nets − new nets; Cluster Growth, which incrementally adds blocks to minimize the global bounding box area A_bounding box = W_bounding box × H_bounding box; and Simulated Annealing, which probabilistically explores the solution space to find near-global optima with acceptance probability P(accept) = e^{-ΔC / T}.

Following floor planning, pin assignment maps nets to unique pins to optimize design performance, maximize routability, minimize wire length, reduce electrical parasitics, and improve signal integrity. Pin assignment can be external, connecting incoming/outgoing signals to unique I/O pins, or internal, connecting pins between cells to reduce congestion and interconnect length. Pins can be functionally equivalent, where swapping does not affect functionality, or electrically equivalent, connected to the same potential. Two commonly used methods for pin assignment are the concentric circle approach, where block and chip pins are projected onto inner and outer circles and iteratively optimized by minimizing Euclidean distance d = sqrt((x_2 - x_1)^2 + (y_2 - y_1)^2), and topological pin assignment, which accounts for external block positions and multipin nets using midpoint lines and farthest points, followed by concentric circle mapping.

Power and ground routing is critical for reliable chip operation, minimizing IR drop, and handling fluctuations due to dynamic voltage scaling or clock gating. Key considerations include total chip power, maximum power density Power Density = Power in region / Area of region, and power fluctuations across the chip. Each cell and block requires dedicated VDD and GND connections, implemented with thick metal lines and multiple vias to reduce resistance and improve reliability. Two main approaches exist: planar routing for full-custom designs, using Hamiltonian paths on separate layers for VDD and GND with net widths proportional to total current, and mesh routing for standard-cell digital ICs, where rings are created around the core and blocks, and a mesh grid of metal strips spans the chip across multiple layers. Lower-level metal layers (e.g., M1) connect standard cell VDD/GND to the top-level mesh using intermediate vias, and top-level metals are wider to handle higher currents and reduce voltage drop.

In summary, floor planning, pin assignment, and power/ground routing form a systematic methodology in VLSI physical design to achieve optimized layouts, minimal interconnect parasitics, robust power delivery, and improved overall chip performance. The key formulas include block area A = w × h, vertical and horizontal composition for floor planning, Euclidean distance for pin assignment, power density, and probabilistic acceptance in simulated annealing. Together, these techniques ensure efficient chip operation, minimal delay, and reliable power distribution.
